"use strict";(self.webpackChunknight_in_paradise=self.webpackChunknight_in_paradise||[]).push([[303],{9446:(D,h,t)=>{t.d(h,{GO:()=>i,Jh:()=>f,Qr:()=>u,V9:()=>_,bI:()=>c,lQ:()=>A,no:()=>R,p:()=>P,qH:()=>r,r1:()=>l,rW:()=>a,wf:()=>v});var s=t(1241);const c=(0,s.PH)("[Expenses] get all expenses"),a=(0,s.PH)("[Expenses] all expenses loaded successfully",(0,s.Ky)()),R=(0,s.PH)("[Expenses] all expenses failed loading",(0,s.Ky)()),P=(0,s.PH)("[Expenses] request add expense"),r=(0,s.PH)("[Expenses] delete expense failed",(0,s.Ky)()),u=(0,s.PH)("[Expenses] edit expense request",(0,s.Ky)()),v=(0,s.PH)("[Expenses] add expense",(0,s.Ky)()),f=(0,s.PH)("[Expenses] add expense success",(0,s.Ky)()),l=(0,s.PH)("[Expenses] edit expense",(0,s.Ky)()),A=(0,s.PH)("[Expenses] edit expense success",(0,s.Ky)()),i=(0,s.PH)("[Expenses] delete expense",(0,s.Ky)()),_=(0,s.PH)("[Expenses] delete expense success",(0,s.Ky)())},9742:(D,h,t)=>{t.d(h,{IK:()=>R,IY:()=>f,Uf:()=>a,V6:()=>u,Xe:()=>v});var s=t(1241);const c=l=>l.expenses,a=(0,s.P1)(c,l=>l.allExpenses),R=(0,s.P1)(c,l=>l.status),u=((0,s.P1)(c,l=>l.error),(0,s.P1)(c,l=>l.customersNames),(0,s.P1)(c,l=>l.ExpenseStatus)),v=(0,s.P1)(c,l=>l.ExpenseError),f=(0,s.P1)(c,l=>l.Expense)},9079:(D,h,t)=>{t.d(h,{CF:()=>R,CG:()=>A,Hx:()=>r,PE:()=>l,Rl:()=>c,St:()=>v,TX:()=>P,_J:()=>a,aj:()=>_,ey:()=>u,mF:()=>i,pY:()=>f});var s=t(1241);const c=(0,s.PH)("[Revenues] get all Revenues"),a=(0,s.PH)("[Revenues] all Revenues loaded successfully",(0,s.Ky)()),R=(0,s.PH)("[Revenues] all Revenues failed loading",(0,s.Ky)()),P=(0,s.PH)("[Revenues] request add Revenue"),r=(0,s.PH)("[Revenues] delete Revenue failed",(0,s.Ky)()),u=(0,s.PH)("[Revenues] edit Revenue request",(0,s.Ky)()),v=(0,s.PH)("[Revenues] add Revenue",(0,s.Ky)()),f=(0,s.PH)("[Revenues] add Revenue success",(0,s.Ky)()),l=(0,s.PH)("[Revenues] edit Revenue",(0,s.Ky)()),A=(0,s.PH)("[Revenues] edit Revenue success",(0,s.Ky)()),i=(0,s.PH)("[Revenues] delete Revenue",(0,s.Ky)()),_=(0,s.PH)("[Revenues] delete Revenue success",(0,s.Ky)())},6941:(D,h,t)=>{t.d(h,{_c:()=>A,gL:()=>v,id:()=>f,kj:()=>R,mR:()=>u,s7:()=>a});var s=t(1241);const c=i=>i.revenues,a=(0,s.P1)(c,i=>i.allRevenues),R=(0,s.P1)(c,i=>i.status),u=((0,s.P1)(c,i=>i.error),(0,s.P1)(c,i=>i.customersNames),(0,s.P1)(c,i=>i.RevenueStatus)),v=(0,s.P1)(c,i=>i.RevenueError),f=(0,s.P1)(c,i=>i.Revenue),A=(0,s.P1)(i=>i,i=>({expenses:i.expenses.allExpenses,revenues:i.revenues.allRevenues}))},9303:(D,h,t)=>{t.r(h),t.d(h,{FinanceShellModule:()=>ee});var s=t(4755),c=t(2280),a=t(9446),R=t(9742),P=t(6941),r=t(9523),u=t(1241),v=t(5076);let f=(()=>{class e{constructor(o){this._store=o,this.user$=this._store.select(v.dy)}}return e.\u0275fac=function(o){return new(o||e)(r.Y36(u.yh))},e.\u0275cmp=r.Xpm({type:e,selectors:[["finance-navbar"]],decls:9,vars:0,consts:[[1,"container","cs-text-bg-dark","navbar-dark","py-1","w-600","border-bottom","border-1","border-warning"],[1,"navbar-nav","me-auto"],[1,"d-flex","align-items-center","justify-content-evenly"],["routerLink","/finance/expenses","routerLinkActive","text-warning","ariaCurrentWhenActive","page",1,"nav-link","px-2"],["routerLink","/finance/revenues","routerLinkActive","text-warning","ariaCurrentWhenActive","page",1,"nav-link","px-2"],["routerLink","/finance/profits","routerLinkActive","text-warning","ariaCurrentWhenActive","page",1,"nav-link","px-2"]],template:function(o,x){1&o&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),r._uU(4," Expenses "),r.qZA(),r.TgZ(5,"a",4),r._uU(6," Revenues "),r.qZA(),r.TgZ(7,"a",5),r._uU(8," Profits "),r.qZA()()()())},dependencies:[c.rH,c.Od]}),e})();var l=t(245);function A(e,n){if(1&e&&(r._UZ(0,"shared-loading",2),r.ALo(1,"async"),r.ALo(2,"async")),2&e){const o=n.ngIf,x=r.oxw().ngIf,M=r.oxw();r.Q6J("loading","Loading"===r.lcZ(1,2,M.revenuesStatus$)||"Loading"===r.lcZ(2,4,M.expensesStatus$))("refresh",0!==o.length&&0!==x.length)}}function i(e,n){if(1&e&&(r.ynx(0),r.YNc(1,A,3,6,"shared-loading",1),r.ALo(2,"async"),r.BQk()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",r.lcZ(2,1,o.revenues$))}}const G=[{path:"",component:(()=>{class e{constructor(o){this._store=o,this.revenues$=this._store.select(P.s7),this.revenuesStatus$=this._store.select(P.kj),this.expenses$=this._store.select(R.Uf),this.expensesStatus$=this._store.select(R.IK)}ngOnInit(){this._store.dispatch((0,a.bI)())}}return e.\u0275fac=function(o){return new(o||e)(r.Y36(u.yh))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-finance-shell"]],decls:4,vars:3,consts:[[4,"ngIf"],[3,"loading","refresh",4,"ngIf"],[3,"loading","refresh"]],template:function(o,x){1&o&&(r.YNc(0,i,3,3,"ng-container",0),r.ALo(1,"async"),r._UZ(2,"finance-navbar")(3,"router-outlet")),2&o&&r.Q6J("ngIf",r.lcZ(1,1,x.expenses$))},dependencies:[s.O5,c.lC,f,l.N,s.Ov]}),e})(),children:[{path:"",redirectTo:"expenses",pathMatch:"full"},{path:"expenses",loadChildren:()=>Promise.all([t.e(30),t.e(592),t.e(46)]).then(t.bind(t,6046)).then(e=>e.ExpensesModule)},{path:"revenues",loadChildren:()=>Promise.all([t.e(30),t.e(592),t.e(797)]).then(t.bind(t,6797)).then(e=>e.RevenuesModule)},{path:"profits",loadChildren:()=>Promise.all([t.e(30),t.e(592),t.e(257)]).then(t.bind(t,2257)).then(e=>e.ProfitsModule)}]}];let B=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[c.Bz.forChild(G),c.Bz]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[s.ez,c.Bz]}),e})();var W=t(591),w=t(1261),V=t(501),m=t(7654),N=t(2512);let H=(()=>{class e{constructor(o){this.networkService=o}getAllExpenses(){return this.networkService.get(m.b.EXPENSES)}addNewExpense(o){return this.networkService.post(m.b.EXPENSES,o)}editExpense(o){return this.networkService.patch(m.b.EXPENSES,o,o._id)}deleteExpense(o){return this.networkService.delete(m.b.EXPENSES,o)}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(N.S))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e{constructor(o){this.networkService=o}getAllRevenues(){return this.networkService.get(m.b.REVENUES)}addNewRevenue(o){return this.networkService.post(m.b.REVENUES,o)}editRevenue(o){return this.networkService.patch(m.b.REVENUES,o,o._id)}deleteRevenue(o){return this.networkService.delete(m.b.REVENUES,o)}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(N.S))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var O=t(7946);const Y=(0,u.Lq)({allExpenses:[],customersNames:[],Expense:{date:"",title:""},error:null,status:"Pending",ExpenseError:null,ExpenseStatus:"Pending"},(0,u.on)(a.bI,e=>({...e,status:"Loading"})),(0,u.on)(a.rW,(e,n)=>({...e,allExpenses:n.Expenses,error:null,status:"Success"})),(0,u.on)(a.no,(e,n)=>({...e,error:(0,O.V)(n.error),status:"Error"})),(0,u.on)(a.p,e=>({...e,ExpenseStatus:"Pending",ExpenseError:null})),(0,u.on)(a.qH,(e,n)=>({...e,ExpenseError:(0,O.V)(n.error),ExpenseStatus:"Error"})),(0,u.on)(a.Qr,(e,n)=>({...e,Expense:n.Expense,ExpenseError:null,ExpenseStatus:"Pending"})),(0,u.on)(a.wf,(e,n)=>({...e,ExpenseStatus:"Loading",Expense:n.Expense})),(0,u.on)(a.Jh,(e,n)=>({...e,allExpenses:[...e.allExpenses,n.Expense],ExpenseError:null,ExpenseStatus:"Success"})),(0,u.on)(a.r1,(e,n)=>({...e,ExpenseStatus:"Loading",Expense:n.Expense})),(0,u.on)(a.lQ,(e,n)=>({...e,allExpenses:b(e.allExpenses,n.Expense),ExpenseError:null,ExpenseStatus:"Success"})),(0,u.on)(a.GO,(e,n)=>({...e,ExpenseStatus:"Loading",Expense:n.Expense})),(0,u.on)(a.V9,(e,n)=>({...e,allExpenses:J(e.allExpenses,n.Expense),ExpenseError:null,ExpenseStatus:"Success"})));function b(e,n){let o=e.filter(x=>x._id!==n._id);return o.push(n),o}function J(e,n){return e.filter(x=>x._id!==n._id)}var E=t(9079);const j=(0,u.Lq)({allRevenues:[],customersNames:[],Revenue:{date:"",title:""},error:null,status:"Pending",RevenueError:null,RevenueStatus:"Pending"},(0,u.on)(E.Rl,e=>({...e,status:"Loading"})),(0,u.on)(E._J,(e,n)=>({...e,allRevenues:n.Revenues,error:null,status:"Success"})),(0,u.on)(E.CF,(e,n)=>({...e,error:(0,O.V)(n.error),status:"Error"})),(0,u.on)(E.TX,e=>({...e,RevenueStatus:"Pending",RevenueError:null})),(0,u.on)(E.Hx,(e,n)=>({...e,RevenueError:(0,O.V)(n.error),RevenueStatus:"Error"})),(0,u.on)(E.ey,(e,n)=>({...e,Revenue:n.Revenue,RevenueError:null,RevenueStatus:"Pending"})),(0,u.on)(E.St,(e,n)=>({...e,RevenueStatus:"Loading",Revenue:n.Revenue})),(0,u.on)(E.pY,(e,n)=>({...e,allRevenues:[...e.allRevenues,n.Revenue],RevenueError:null,RevenueStatus:"Success"})),(0,u.on)(E.PE,(e,n)=>({...e,RevenueStatus:"Loading",Revenue:n.Revenue})),(0,u.on)(E.CG,(e,n)=>({...e,allRevenues:z(e.allRevenues,n.Revenue),RevenueError:null,RevenueStatus:"Success"})),(0,u.on)(E.mF,(e,n)=>({...e,RevenueStatus:"Loading",Revenue:n.Revenue})),(0,u.on)(E.aj,(e,n)=>({...e,allRevenues:Q(e.allRevenues,n.Revenue),RevenueError:null,RevenueStatus:"Success"})));function z(e,n){let o=e.filter(x=>x._id!==n._id);return o.push(n),o}function Q(e,n){return e.filter(x=>x._id!==n._id)}var d=t(8057),C=t(3900),L=t(4004),U=t(262),F=t(9646),S=t(9234),T=t(8577);let k=(()=>{class e{constructor(o,x,M,K,g){this._actions$=o,this._ExpenseService=x,this._router=M,this._store=K,this._snackbar=g,this.loadAllExpenses$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(a.bI),(0,C.w)(()=>this._ExpenseService.getAllExpenses().pipe((0,L.U)(p=>(this._store.dispatch((0,E.Rl)()),(0,a.rW)({Expenses:p.expenses}))),(0,U.K)(p=>(this._snackbar.showError(S.l.EXPENSES.LIST_ERROR),(0,F.of)((0,a.no)({error:p.status})))))))),this.AddExpense$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(a.wf),(0,C.w)(p=>this._ExpenseService.addNewExpense(p.Expense).pipe((0,L.U)(y=>(this._router.navigateByUrl("finance/expenses"),this._snackbar.showSuccess(S.l.EXPENSES.ADD_SUCCESS),(0,a.Jh)({Expense:y}))),(0,U.K)(y=>(this._snackbar.showError(S.l.EXPENSES.ADD_ERROR),(0,F.of)((0,a.qH)({error:y.status})))))))),this.EditExpense$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(a.r1),(0,C.w)(p=>this._ExpenseService.editExpense(p.Expense).pipe((0,L.U)(y=>(this._router.navigateByUrl("finance/expenses"),this._snackbar.showSuccess(S.l.EXPENSES.PATCH_SUCCESS),(0,a.lQ)({Expense:y}))),(0,U.K)(y=>(this._snackbar.showError(S.l.EXPENSES.PATCH_ERROR),(0,F.of)((0,a.qH)({error:y.status})))))))),this.DeleteExpense$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(a.GO),(0,C.w)(p=>this._ExpenseService.deleteExpense(p.Expense._id).pipe((0,L.U)(()=>(this._router.navigateByUrl("finance/expenses"),this._snackbar.showSuccess(S.l.EXPENSES.DELETE_SUCCESS),(0,a.V9)({Expense:p.Expense}))),(0,U.K)(y=>(this._snackbar.showError(S.l.EXPENSES.DELETE_ERROR),(0,F.of)((0,a.qH)({error:y.status}))))))))}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(d.eX),r.LFG(H),r.LFG(c.F0),r.LFG(u.yh),r.LFG(T.o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),q=(()=>{class e{constructor(o,x,M,K){this._actions$=o,this._RevenueService=x,this._router=M,this._snackbar=K,this.loadAllRevenues$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(E.Rl),(0,C.w)(()=>this._RevenueService.getAllRevenues().pipe((0,L.U)(g=>(0,E._J)({Revenues:g.revenues})),(0,U.K)(g=>(this._snackbar.showError(S.l.REVENUES.LIST_ERROR),(0,F.of)((0,E.CF)({error:g.status})))))))),this.AddRevenue$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(E.St),(0,C.w)(g=>this._RevenueService.addNewRevenue(g.Revenue).pipe((0,L.U)(p=>(this._router.navigateByUrl("finance/revenues"),this._snackbar.showSuccess(S.l.REVENUES.ADD_SUCCESS),(0,E.pY)({Revenue:p}))),(0,U.K)(p=>(this._snackbar.showError(S.l.REVENUES.ADD_ERROR),(0,F.of)((0,E.Hx)({error:p.status})))))))),this.EditRevenue$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(E.PE),(0,C.w)(g=>this._RevenueService.editRevenue(g.Revenue).pipe((0,L.U)(p=>(this._router.navigateByUrl("finance/revenues"),this._snackbar.showSuccess(S.l.REVENUES.PATCH_SUCCESS),(0,E.CG)({Revenue:p}))),(0,U.K)(p=>(this._snackbar.showError(S.l.REVENUES.PATCH_ERROR),(0,F.of)((0,E.Hx)({error:p.status})))))))),this.DeleteRevenue$=(0,d.GW)(()=>this._actions$.pipe((0,d.l4)(E.mF),(0,C.w)(g=>this._RevenueService.deleteRevenue(g.Revenue._id).pipe((0,L.U)(()=>(this._router.navigateByUrl("finance/revenues"),this._snackbar.showSuccess(S.l.REVENUES.DELETE_SUCCESS),(0,E.aj)({Revenue:g.Revenue}))),(0,U.K)(p=>(this._snackbar.showError(S.l.REVENUES.DELETE_ERROR),(0,F.of)((0,E.Hx)({error:p.status}))))))))}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(d.eX),r.LFG(I),r.LFG(c.F0),r.LFG(T.o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ee=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[V.a,w.k,H,I],imports:[s.ez,B,$,W.I,u.Aw.forFeature("expenses",Y),u.Aw.forFeature("revenues",j),d.sQ.forFeature([k,q])]}),e})()},1261:(D,h,t)=>{t.d(h,{k:()=>u});var s=t(9742),c=t(3772),a=t(2722),R=t(9523),P=t(1241),r=t(2280);let u=(()=>{class v extends c.f{constructor(l,A){super(),this._store=l,this._router=A,this.$=this._store.select(s.IY).pipe((0,a.R)(this.unsubscribe$)).subscribe(i=>this.expense=i)}canActivate(){return""!==this.expense.date||(this._router.navigateByUrl("finance/expenses"),!1)}}return v.\u0275fac=function(l){return new(l||v)(R.LFG(P.yh),R.LFG(r.F0))},v.\u0275prov=R.Yz7({token:v,factory:v.\u0275fac}),v})()},501:(D,h,t)=>{t.d(h,{a:()=>u});var s=t(6941),c=t(3772),a=t(2722),R=t(9523),P=t(1241),r=t(2280);let u=(()=>{class v extends c.f{constructor(l,A){super(),this._store=l,this._router=A,this.$=this._store.select(s.id).pipe((0,a.R)(this.unsubscribe$)).subscribe(i=>this.revenue=i)}canActivate(){return""!==this.revenue.date||(this._router.navigateByUrl("finance/revenues"),!1)}}return v.\u0275fac=function(l){return new(l||v)(R.LFG(P.yh),R.LFG(r.F0))},v.\u0275prov=R.Yz7({token:v,factory:v.\u0275fac}),v})()}}]);