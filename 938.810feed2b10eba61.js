"use strict";(self.webpackChunknight_in_paradise=self.webpackChunknight_in_paradise||[]).push([[938],{7938:(T,m,o)=>{o.r(m),o.d(m,{AddReservationModule:()=>y});var d=o(4755),e=o(5030),l=o(7732),i=o(978),u=o(6073),t=o(9523),p=o(1241),c=o(4810),v=o(3877),f=o(942),h=o(8152),g=o(1977),I=o(9997);function x(n,a){if(1&n&&(t.TgZ(0,"div",7),t._UZ(1,"shared-suggestions-text-input",8),t.qZA()),2&n){const s=a.ngIf;t.xp6(1),t.Q6J("label","Name")("options",s)}}function A(n,a){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&n){const s=a.ngIf;t.xp6(1),t.hij(" ",s&&s," ")}}let N=(()=>{class n{constructor(s){this._store=s,this.addError$=this._store.select(i.h4),this.addStatus$=this._store.select(i.lY),this.names$=this._store.select(i.eJ),this.form=new e.cw({bookedDate:new e.NI({value:"",disabled:!0},[e.kI.required]),person:new e.cw({name:new e.NI("",[e.kI.required,e.kI.minLength(5),e.kI.maxLength(25)]),contact:new e.NI("",[e.kI.required,e.kI.minLength(5),e.kI.maxLength(25)])}),notes:new e.NI(""),price:new e.NI("",[e.kI.required])}),this.bNumb=parseInt(sessionStorage.getItem("bNumb")),this.bookedDate=sessionStorage.getItem("date")}ngOnInit(){this.form.patchValue({bookedDate:this.bookedDate})}addReservation(){(0,u.G)(this.form)&&this._store.dispatch((0,l.RZ)({reservation:{bookedDate:this.bookedDate,number:this.bNumb,notes:this.form.value.notes,person:{contact:this.form.value.person?.contact,name:this.form.value.person?.name},price:parseFloat(this.form.value.price)}}))}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-reservation"]],decls:14,vars:16,consts:[["autocomplete","off",1,"cs-text-bg-dark","text-light","pt-3","px-3","rounded-4","d-flex","flex-column",3,"formGroup","ngSubmit"],[1,"text-center","mb-3"],["formGroupName","person",4,"ngIf"],[3,"control","label"],[3,"control"],[3,"disabled"],["class","text-danger text-center",4,"ngIf"],["formGroupName","person"],["formControlName","name",3,"label","options"],[1,"text-danger","text-center"]],template:function(s,r){1&s&&(t.TgZ(0,"shared-modal")(1,"form",0),t.NdJ("ngSubmit",function(){return r.addReservation()}),t.TgZ(2,"h4",1),t._uU(3,"Add Reservation"),t.qZA(),t.YNc(4,x,2,2,"div",2),t.ALo(5,"async"),t._UZ(6,"shared-text-input",3)(7,"shared-date-input",4)(8,"shared-price-input",4)(9,"shared-text-input",3)(10,"shared-button",5),t.ALo(11,"async"),t.YNc(12,A,2,1,"div",6),t.ALo(13,"async"),t.qZA()()),2&s&&(t.xp6(1),t.Q6J("formGroup",r.form),t.xp6(3),t.Q6J("ngIf",t.lcZ(5,10,r.names$)),t.xp6(2),t.Q6J("control",r.form.controls.person.controls.contact)("label","Contact Info"),t.xp6(1),t.Q6J("control",r.form.controls.bookedDate),t.xp6(1),t.Q6J("control",r.form.controls.price),t.xp6(1),t.Q6J("control",r.form.controls.notes)("label","Notes"),t.xp6(1),t.Q6J("disabled","Loading"===t.lcZ(11,12,r.addStatus$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,14,r.addError$)))},dependencies:[d.O5,c.t,v.S,f.L,h.Y,e._Y,e.JJ,e.JL,e.sg,e.u,e.x0,g.z,I.w,d.Ov]}),n})();var J=o(5784),R=o(8454),b=o(4267),Z=o(2280),C=o(7257),L=o(1528),Q=o(5203);const S=[{path:"",component:N}];let y=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,J.N,L.X,R.b,b.I,e.UX,C.z,Q.o,Z.Bz.forChild(S)]}),n})()}}]);