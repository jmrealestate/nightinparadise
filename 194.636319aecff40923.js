"use strict";(self.webpackChunknight_in_paradise=self.webpackChunknight_in_paradise||[]).push([[194],{4194:(F,m,s)=>{s.r(m),s.d(m,{AllUsersModule:()=>E});var i=s(4755),d=s(2280),c=s(6322),g=s(821),f=s(3772),U=s(2722),p=s(9234),t=s(9523),h=s(1241),A=s(6831),v=s(245);function x(e,l){if(1&e&&(t._UZ(0,"shared-loading",2),t.ALo(1,"async")),2&e){const n=l.ngIf,o=t.oxw();t.Q6J("loading","Loading"===t.lcZ(1,2,o.usersStatus$))("refresh",0!==n.length)}}function Z(e,l){1&e&&t._UZ(0,"div")}function _(e,l){1&e&&t._uU(0,"Admin")}function C(e,l){1&e&&t._UZ(0,"div")}function T(e,l){1&e&&t._uU(0,"Editor")}function I(e,l){1&e&&t._uU(0,"User")}function M(e,l){if(1&e&&(t.YNc(0,C,1,0,"div",18),t.YNc(1,T,1,0,"ng-template",null,24,t.W1O),t.YNc(3,I,1,0,"ng-template",null,25,t.W1O)),2&e){const n=t.MAs(2),o=t.MAs(4),r=t.oxw().$implicit;t.Q6J("ngIf",r.roles.editor)("ngIfThen",n)("ngIfElse",o)}}function y(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,Z,1,0,"div",18),t.YNc(5,_,1,0,"ng-template",null,19,t.W1O),t.YNc(7,M,5,3,"ng-template",null,20,t.W1O),t.qZA(),t.TgZ(9,"td",21)(10,"button",22),t.NdJ("click",function(){const a=t.CHM(n).$implicit,u=t.oxw(2);return t.KtG(u.editUser(a))}),t._UZ(11,"i",14),t.qZA()(),t.TgZ(12,"td",21)(13,"button",23),t.NdJ("click",function(){const a=t.CHM(n).$implicit,u=t.oxw(2);return t.KtG(u.deleteUser(a))}),t._UZ(14,"i",15),t.qZA()()()}if(2&e){const n=l.$implicit,o=t.MAs(6),r=t.MAs(8);t.xp6(2),t.Oqu(n.username),t.xp6(2),t.Q6J("ngIf",n.roles.admin)("ngIfThen",o)("ngIfElse",r)}}function N(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4,"Add New User"),t.qZA(),t.TgZ(5,"div",7)(6,"button",8),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.addUser())}),t._UZ(7,"i",9),t.qZA()()()(),t.TgZ(8,"table",10)(9,"thead",11)(10,"tr")(11,"th",12),t._uU(12,"User"),t.qZA(),t.TgZ(13,"th",13),t._uU(14,"Role"),t.qZA(),t.TgZ(15,"th",13),t._UZ(16,"i",14),t.qZA(),t.TgZ(17,"th",13),t._UZ(18,"i",15),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,y,15,4,"tr",16),t.qZA()()()}if(2&e){const n=l.ngIf;t.xp6(20),t.Q6J("ngForOf",n)}}const Y=[{path:"",component:(()=>{class e extends f.f{constructor(n,o,r){super(),this._store=n,this._router=o,this._confirm=r,this.allUsers$=this._store.select(g.yw),this.usersStatus$=this._store.select(g.zB)}ngOnInit(){this._store.dispatch((0,c.mO)())}addUser(){this._store.dispatch((0,c.DI)()),this._router.navigateByUrl("/users/all-users/add")}editUser(n){this._store.dispatch((0,c.AT)({User:n})),this._router.navigateByUrl("/users/all-users/edit")}deleteUser(n){this._confirm.openConfirm(p.l.USERS.CONFIRM_DELETE).pipe((0,U.R)(this.unsubscribe$)).subscribe(o=>{!0===o&&this._store.dispatch((0,c.Hn)({User:n}))})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.yh),t.Y36(d.F0),t.Y36(A.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-all-users"]],features:[t.qOj],decls:5,vars:6,consts:[[3,"loading","refresh",4,"ngIf"],["class","mx-auto w-600",4,"ngIf"],[3,"loading","refresh"],[1,"mx-auto","w-600"],[1,"container-fluid","cs-text-bg-dark","py-2","border-bottom","border-warning"],[1,"row"],[1,"col-9","d-flex","align-items-center"],[1,"col-3","text-end"],[1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"fas","fa-plus"],[1,"table","cs-text-bg-dark","border-secondary","text-center"],[1,"border-bottom","border-light"],[1,"col","text-start"],[1,"col-1"],[1,"fas","fa-edit"],[1,"fas","fa-trash"],[4,"ngFor","ngForOf"],[1,"text-start"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock3",""],["elseBlock3",""],[1,"text-center"],[1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["thenBlock4",""],["elseBlock4",""]],template:function(n,o){1&n&&(t._UZ(0,"router-outlet"),t.YNc(1,x,2,4,"shared-loading",0),t.ALo(2,"async"),t.YNc(3,N,21,1,"div",1),t.ALo(4,"async")),2&n&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,o.allUsers$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,4,o.allUsers$)))},dependencies:[i.sg,i.O5,d.lC,v.N,i.Ov]}),e})(),children:[{path:"edit",loadChildren:()=>Promise.all([s.e(30),s.e(592),s.e(459)]).then(s.bind(s,9459)).then(e=>e.UserModule),canActivate:[s(7474).d]},{path:"add",loadChildren:()=>Promise.all([s.e(30),s.e(592),s.e(313)]).then(s.bind(s,9313)).then(e=>e.AddUserModule)}]}];let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(Y),d.Bz]}),e})();var J=s(591);let E=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,B,J.I]}),e})()}}]);