"use strict";(self.webpackChunknight_in_paradise=self.webpackChunknight_in_paradise||[]).push([[843],{6346:(p,c,n)=>{n.r(c),n.d(c,{ProfileModule:()=>_});var o=n(4755),d=n(2280),l=n(2722),s=n(3772),e=n(5030),r=n(6073),u=n(9234),t=n(9523),h=n(8012),v=n(8577),b=n(9789),w=n(9997);const P=[{path:"",component:(()=>{class i extends s.f{constructor(a,m){super(),this._profileService=a,this._snackbar=m,this.loading=!1,this.fixedErr="",this.errorMSG="",this.form=new e.cw({oldPassword:new e.NI("",[e.kI.required]),newPassword:new e.NI("",[e.kI.required,r.y,e.kI.minLength(8)]),confirmPassword:new e.NI("",[e.kI.required])})}ngOnInit(){this.form.valueChanges.pipe((0,l.R)(this.unsubscribe$)).subscribe(a=>{this.fixedErr=a.confirmPassword!==a.newPassword&&a.confirmPassword?"match":""})}onSubmit(){(0,r.G)(this.form)&&(this.fixedErr||(this.loading=!0,this._profileService.changePassword(this.form.value.newPassword,this.form.value.oldPassword).pipe((0,l.R)(this.unsubscribe$)).subscribe({next:()=>{this.loading=!1,this.form.reset(),this._snackbar.showSuccess(u.l.PROFILE.PASSWORD_SUCCESS)},error:a=>{this.loading=!1,401===a.status&&(this.errorMSG=u.l.PROFILE.PASSWORD_INCORRECT),this._snackbar.showError(u.l.PROFILE.PASSWORD_ERROR),setTimeout(()=>{this.errorMSG=""},3e3)}})))}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(h.H),t.Y36(v.o))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-profile"]],features:[t.qOj],decls:10,vars:12,consts:[[1,"p-2"],["autocomplete","off","novalidate","",1,"cs-text-bg-dark","py-3","px-3","rounded-4","d-flex","flex-column","mx-auto","w-300",3,"formGroup","ngSubmit"],[1,"py-3","text-center","h2"],[3,"control","label"],[3,"control","label","fixedErr"],[3,"disabled","label"],[1,"text-danger","text-center"]],template:function(a,m){1&a&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return m.onSubmit()}),t.TgZ(2,"h1",2),t._uU(3,"Change Password"),t.qZA(),t._UZ(4,"shared-password-input",3)(5,"shared-password-input",4)(6,"shared-password-input",4)(7,"shared-button",5),t.TgZ(8,"div",6),t._uU(9),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("formGroup",m.form),t.xp6(3),t.Q6J("control",m.form.controls.oldPassword)("label","Old Password"),t.xp6(1),t.Q6J("control",m.form.controls.newPassword)("label","New Password")("fixedErr",m.fixedErr),t.xp6(1),t.Q6J("control",m.form.controls.confirmPassword)("label","Confirm New Password")("fixedErr",m.fixedErr),t.xp6(1),t.Q6J("disabled",m.loading)("label","Change Password"),t.xp6(2),t.Oqu(m.errorMSG))},dependencies:[e._Y,e.JL,e.sg,b.C,w.w]}),i})()}];let g=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild(P),d.Bz]}),i})();var E=n(5210),D=n(5203);let _=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[o.ez,g,e.UX,E.U,D.o]}),i})()},3556:(p,c,n)=>{n.d(c,{k:()=>l});var o=n(4755),d=n(9523);let l=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[o.ez]}),s})()},6359:(p,c,n)=>{n.d(c,{$:()=>d});var o=n(9523);let d=(()=>{class l{constructor(e){this.elementRef=e,this.noSpace=!1}onBlur(){const e=this.elementRef.nativeElement;let r="";r=e.value.trim(),e.value!==r&&(e.value=r,e.dispatchEvent(new Event("input")))}keyDown(e){"Enter"===e.key&&this.onBlur()}onInput(){this.noSpace&&this.onBlur()}}return l.\u0275fac=function(e){return new(e||l)(o.Y36(o.SBq))},l.\u0275dir=o.lG2({type:l,selectors:[["","TextTrimmer",""]],hostBindings:function(e,r){1&e&&o.NdJ("blur",function(t){return r.onBlur(t)})("keydown",function(t){return r.keyDown(t)})("input",function(t){return r.onInput(t)})},inputs:{noSpace:"noSpace"}}),l})()},9997:(p,c,n)=>{n.d(c,{w:()=>s});var o=n(9523),d=n(4755);function l(e,r){if(1&e){const u=o.EpF();o.TgZ(0,"div",5)(1,"button",6),o.NdJ("click",function(){o.CHM(u);const h=o.oxw();return o.KtG(h.deleteReq.emit())}),o._UZ(2,"i",7),o.qZA()()}if(2&e){const u=o.oxw();o.xp6(1),o.Q6J("disabled",u.disabled)}}let s=(()=>{class e{constructor(){this.showDelete=!1,this.disabled=!1,this.label="Save",this.deleteReq=new o.vpe}}return e.\u0275fac=function(u){return new(u||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["shared-button"]],inputs:{showDelete:"showDelete",disabled:"disabled",label:"label"},outputs:{deleteReq:"deleteReq"},decls:6,vars:11,consts:[[1,"my-3"],[1,"row"],["class","col-3",4,"ngIf"],[1,"mx-auto"],[1,"btn","btn-dark","text-warning","border","border-2","w-100",3,"disabled"],[1,"col-3"],["type","button",1,"btn","btn-danger","w-100",3,"disabled","click"],[1,"fas","fa-trash"]],template:function(u,t){1&u&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,l,3,1,"div",2),o.TgZ(3,"div",3)(4,"button",4),o._uU(5),o.qZA()()()()),2&u&&(o.xp6(1),o.ekj("g-1",t.showDelete)("g-0",!t.showDelete),o.xp6(1),o.Q6J("ngIf",t.showDelete),o.xp6(1),o.ekj("col-9",t.showDelete)("col-12",!t.showDelete),o.xp6(1),o.Q6J("disabled",t.disabled),o.xp6(1),o.hij(" ",t.label," "))},dependencies:[d.O5]}),e})()},5203:(p,c,n)=>{n.d(c,{o:()=>l});var o=n(4755),d=n(9523);let l=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[o.ez]}),s})()},6073:(p,c,n)=>{n.d(c,{G:()=>d,y:()=>l});var o=n(5030);function d(s){return s.markAllAsTouched(),Object.values(s.controls).forEach(e=>{e instanceof o.cw?Object.values(e.controls).forEach(r=>{r.markAsDirty()}):e.markAsDirty()}),s.valid}function l(s){const e=s.value,r={};return e?(/[A-Z]/.test(e)||(r.upper=!0),/[a-z]/.test(e)||(r.lower=!0),/\d/.test(e)||(r.digit=!0),/\s/.test(e)&&(r.space=!0),Object.keys(r).length>0?r:null):null}}}]);