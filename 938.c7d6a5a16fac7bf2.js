"use strict";(self.webpackChunknight_in_paradise=self.webpackChunknight_in_paradise||[]).push([[938],{7938:(L,m,e)=>{e.r(m),e.d(m,{AddReservationModule:()=>y});var d=e(4755),o=e(5030),l=e(7732),i=e(978),c=e(6073),t=e(9523),p=e(1241),u=e(4810),f=e(3877),h=e(942),v=e(8152),g=e(1977),I=e(9997);function x(n,a){if(1&n&&(t.TgZ(0,"div",12),t._UZ(1,"shared-suggestions-text-input",13),t.qZA()),2&n){const s=a.ngIf;t.xp6(1),t.Q6J("label","Name")("options",s)}}function Z(n,a){if(1&n&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&n){const s=a.ngIf;t.xp6(1),t.hij(" ",s&&s," ")}}let A=(()=>{class n{constructor(s){this._store=s,this.addError$=this._store.select(i.h4),this.addStatus$=this._store.select(i.lY),this.names$=this._store.select(i.eJ),this.form=new o.cw({bookedDate:new o.NI({value:"",disabled:!0},[o.kI.required]),person:new o.cw({name:new o.NI("",[o.kI.required,o.kI.minLength(5),o.kI.maxLength(25)]),contact:new o.NI("",[o.kI.required,o.kI.minLength(5),o.kI.maxLength(25)])}),notes:new o.NI(""),price:new o.NI("",[o.kI.required]),done:new o.NI(!1),deposit:new o.NI(!1)}),this.bNumb=parseInt(sessionStorage.getItem("bNumb")),this.bookedDate=sessionStorage.getItem("date")}ngOnInit(){this.form.patchValue({bookedDate:this.bookedDate})}addReservation(){(0,c.G)(this.form)&&this._store.dispatch((0,l.RZ)({reservation:{bookedDate:this.bookedDate,number:this.bNumb,notes:this.form.value.notes,person:{contact:this.form.value.person?.contact,name:this.form.value.person?.name},price:parseFloat(this.form.value.price),done:this.form.value.done,deposit:this.form.value.deposit}}))}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-reservation"]],decls:22,vars:18,consts:[["autocomplete","off",1,"cs-text-bg-dark","text-light","pt-3","px-3","rounded-4","d-flex","flex-column",3,"formGroup","ngSubmit"],[1,"text-center","mb-3"],["formGroupName","person",4,"ngIf"],[3,"control","label"],[3,"control"],[1,"form-check"],["type","checkbox","id","flexCheckIndeterminate",1,"form-check-input",3,"formControl"],["for","flexCheckIndeterminate",1,"form-check-label"],["type","checkbox","id","flexCheckIndeterminat2e",1,"form-check-input",3,"formControl"],["for","flexCheckIndeterminat2e",1,"form-check-label"],[3,"disabled"],["class","text-danger text-center",4,"ngIf"],["formGroupName","person"],["formControlName","name",3,"label","options"],[1,"text-danger","text-center"]],template:function(s,r){1&s&&(t.TgZ(0,"shared-modal")(1,"form",0),t.NdJ("ngSubmit",function(){return r.addReservation()}),t.TgZ(2,"h4",1),t._uU(3,"Add Reservation"),t.qZA(),t.YNc(4,x,2,2,"div",2),t.ALo(5,"async"),t._UZ(6,"shared-text-input",3)(7,"shared-date-input",4)(8,"shared-price-input",4)(9,"shared-text-input",3),t.TgZ(10,"div",5),t._UZ(11,"input",6),t.TgZ(12,"label",7),t._uU(13," Done "),t.qZA()(),t.TgZ(14,"div",5),t._UZ(15,"input",8),t.TgZ(16,"label",9),t._uU(17," Deposit "),t.qZA()(),t._UZ(18,"shared-button",10),t.ALo(19,"async"),t.YNc(20,Z,2,1,"div",11),t.ALo(21,"async"),t.qZA()()),2&s&&(t.xp6(1),t.Q6J("formGroup",r.form),t.xp6(3),t.Q6J("ngIf",t.lcZ(5,12,r.names$)),t.xp6(2),t.Q6J("control",r.form.controls.person.controls.contact)("label","Contact Info"),t.xp6(1),t.Q6J("control",r.form.controls.bookedDate),t.xp6(1),t.Q6J("control",r.form.controls.price),t.xp6(1),t.Q6J("control",r.form.controls.notes)("label","Notes"),t.xp6(2),t.Q6J("formControl",r.form.controls.done),t.xp6(4),t.Q6J("formControl",r.form.controls.deposit),t.xp6(3),t.Q6J("disabled","Loading"===t.lcZ(19,14,r.addStatus$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(21,16,r.addError$)))},dependencies:[d.O5,u.t,f.S,h.L,v.Y,o._Y,o.Wl,o.JJ,o.JL,o.oH,o.sg,o.u,o.x0,g.z,I.w,d.Ov]}),n})();var b=e(5784),C=e(8454),N=e(4267),J=e(2280),R=e(7257),T=e(1528),Q=e(5203);const k=[{path:"",component:A}];let y=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,b.N,T.X,C.b,N.I,o.UX,R.z,Q.o,J.Bz.forChild(k)]}),n})()}}]);