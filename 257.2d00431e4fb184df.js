"use strict";(self.webpackChunknight_in_paradise=self.webpackChunknight_in_paradise||[]).push([[257],{2257:(A,a,o)=>{o.r(a),o.d(a,{ProfitsModule:()=>T});var h=o(4755),p=o(2280),d=o(2722),c=o(3772),g=o(6316),f=o(6941),e=o(9523),m=o(1241),i=o(5030);function Z(s,r){if(1&s&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const v=[{path:"",component:(()=>{class s extends c.f{constructor(t){super(),this._store=t,this.selectMonth="",this.selectYear="",this.sumExpenses=0,this.sumRevenues=0,this.yearRange=Array.from({length:54},(n,u)=>2022+u),this.monthName=["allMonths","January","February","March","April","May","June","July","August","September","October","November","December"],this.REVENUES=[],this.EXPENSES=[],this.filteredRevenues=[],this.filteredExpenses=[]}ngOnInit(){this.selectMonth="999",this.selectYear=(new Date).getFullYear().toString(),this._store.select(f._c).pipe((0,d.R)(this.unsubscribe$)).subscribe(t=>{this.EXPENSES=[...t.expenses],this.filteredExpenses=[...t.expenses],this.REVENUES=[...t.revenues],this.filteredRevenues=[...t.revenues],this.filterData()})}filterData(){"999"!==this.selectMonth?(this.filteredRevenues=this.REVENUES.filter(t=>t.date.startsWith((0,g.W)(parseInt(this.selectYear),parseInt(this.selectMonth)))),this.filteredExpenses=this.EXPENSES.filter(t=>t.date.startsWith((0,g.W)(parseInt(this.selectYear),parseInt(this.selectMonth))))):(this.filteredRevenues=this.REVENUES.filter(t=>t.date.startsWith(this.selectYear)),this.filteredExpenses=this.EXPENSES.filter(t=>t.date.startsWith(this.selectYear))),this.sumRevenues=this.filteredRevenues.reduce((t,n)=>t+n.price,0),this.sumExpenses=this.filteredExpenses.reduce((t,n)=>t+n.price,0)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m.yh))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-profits"]],features:[e.qOj],decls:63,vars:6,consts:[[1,"w-600","mx-auto"],[1,"mx-auto","cs-text-bg-dark","p-1"],[1,"py-2"],[1,"d-flex","justify-content-center"],["name","month",1,"bg-dark","text-light","rounded","mx-2",3,"ngModel","ngModelChange","change"],["value","999"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["name","year",1,"bg-dark","text-light","rounded","mx-2",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-bordered","border-secondary","cs-text-bg-dark","mb-0","mt-3"],[1,"col-8"],[1,"col-4"],["scope","row"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"select",4),e.NdJ("ngModelChange",function(l){return n.selectMonth=l})("change",function(){return n.filterData()}),e.TgZ(5,"option",5),e._uU(6,"All Months"),e.qZA(),e.TgZ(7,"option",6),e._uU(8,"January"),e.qZA(),e.TgZ(9,"option",7),e._uU(10,"February"),e.qZA(),e.TgZ(11,"option",8),e._uU(12,"March"),e.qZA(),e.TgZ(13,"option",9),e._uU(14,"April"),e.qZA(),e.TgZ(15,"option",10),e._uU(16,"May"),e.qZA(),e.TgZ(17,"option",11),e._uU(18,"June"),e.qZA(),e.TgZ(19,"option",12),e._uU(20,"July"),e.qZA(),e.TgZ(21,"option",13),e._uU(22,"August"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"September"),e.qZA(),e.TgZ(25,"option",15),e._uU(26,"October"),e.qZA(),e.TgZ(27,"option",16),e._uU(28,"November"),e.qZA(),e.TgZ(29,"option",17),e._uU(30,"December"),e.qZA()(),e.TgZ(31,"select",18),e.NdJ("ngModelChange",function(l){return n.selectYear=l})("change",function(){return n.filterData()}),e.YNc(32,Z,2,2,"option",19),e.qZA()()(),e.TgZ(33,"div",20)(34,"table",21)(35,"thead")(36,"tr")(37,"th",22),e._uU(38,"Finance"),e.qZA(),e.TgZ(39,"th",23),e._uU(40,"$"),e.qZA()()(),e.TgZ(41,"tbody")(42,"tr")(43,"td",24),e._uU(44,"Revenues"),e.qZA(),e.TgZ(45,"td"),e._uU(46," $ "),e.TgZ(47,"span"),e._uU(48),e.qZA()()(),e.TgZ(49,"tr")(50,"td",24),e._uU(51,"Expenses"),e.qZA(),e.TgZ(52,"td"),e._uU(53," $ "),e.TgZ(54,"span"),e._uU(55),e.qZA()()(),e.TgZ(56,"tr")(57,"td",24),e._uU(58,"Result"),e.qZA(),e.TgZ(59,"td"),e._uU(60," $ "),e.TgZ(61,"span"),e._uU(62),e.qZA()()()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngModel",n.selectMonth),e.xp6(27),e.Q6J("ngModel",n.selectYear),e.xp6(1),e.Q6J("ngForOf",n.yearRange),e.xp6(16),e.Oqu(n.sumRevenues),e.xp6(7),e.Oqu(n.sumExpenses),e.xp6(7),e.Oqu(n.sumRevenues-n.sumExpenses))},dependencies:[h.sg,i.YN,i.Kr,i.EJ,i.JJ,i.On],styles:["select[_ngcontent-%COMP%]{width:140px;height:35px}"]}),s})()}];let E=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[p.Bz.forChild(v),p.Bz]}),s})(),T=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.ez,E,i.u5]}),s})()}}]);