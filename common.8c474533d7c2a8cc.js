"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[592],{8223:(D,f,n)=>{n.d(f,{M:()=>_,s:()=>r});var o=n(5619),u=n(8180),t=n(3985),d=n(5879),e=n(8068);let r=(()=>{class i{constructor(p){this.networkService=p,this._customers$=new o.X([]),this.customers$=this._customers$.asObservable(),this.changes$=new o.X({})}getAllCustomersNames(){this.networkService.get(t.b.CUSTOMERS).pipe((0,u.q)(1)).subscribe(p=>{p&&Array.isArray(p)&&this._customers$.next(p.sort((l,c)=>c.count-l.count))})}static#t=this.\u0275fac=function(l){return new(l||i)(d.LFG(e.S))};static#e=this.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac})}return i})();function _(i){const s=i.split("-");return`${s[2]}/${s[1]}/${s[0]}`}},9153:(D,f,n)=>{n.d(f,{G:()=>T});var o=n(6223),u=n(7700),t=n(7022),d=n(5693),e=n(5879),r=n(6814),_=n(2025),i=n(4246),s=n(2596),p=n(9866);const l=function(){return{icon:"info",ripple:!0}};function c(v,A){if(1&v){const a=e.EpF();e.TgZ(0,"div",6)(1,"shared-icon",7,8),e.NdJ("click",function(){e.CHM(a);const E=e.MAs(2);return e.KtG(E.toggle())}),e.qZA()()}if(2&v){const a=e.oxw();e.xp6(1),e.Q6J("matTooltip",a.getTooltipContent())("matTooltipPosition","left")("config",e.DdM(3,l))}}const M=function(v){return{title:v,showSave:!0,showCancel:!0}},h=function(v){return{label:v}},C=function(){return{label:"Date",type:"date"}},g=function(){return{label:"Amount in $",type:"number"}},P=function(){return{label:"Notes"}};let T=(()=>{class v{constructor(a,m){this.data=a,this._dialogRef=m,this.form=new o.cw({title:new o.NI("",[o.kI.required,o.kI.minLength(5),o.kI.maxLength(25)]),date:new o.NI("",[o.kI.required]),price:new o.NI("",[o.kI.required]),notes:new o.NI("")})}ngOnInit(){this.data&&this.data.data&&(this.editForm(this.data.data),this.loadedData=structuredClone(this.data.data))}handleDialogActions(a){a&&"ok"!==a&&"cancel"!==a?"save"===a&&this.submit():this._dialogRef.close()}getTooltipContent(){if(this.data&&this.data){let a="";return a=this.data.data.createdAt!==this.data.data.updatedAt?`Created by ${this.data.data.createdBy} at ${(0,t.TG)(this.data.data.createdAt)}\nUpdated by ${this.data.data.updatedBy} at ${(0,t.TG)(this.data.data.updatedAt)}`:`Created by ${this.data.data.createdBy} at ${(0,t.TG)(this.data.data.createdAt)}`,a}return""}editForm(a){this.form.patchValue({title:a.title,date:a.date,price:a.price?.toString(),notes:a.notes})}submit(){if((0,d.s)(this.form)){const a=this.format(this.form.value);this._dialogRef.close(a)}}format(a){const m=this.loadedData?{...this.loadedData}:{date:"",title:""};return m.title=a.title,m.date=this.formatDate(a.date),m.price=Number(a.price),m.notes=a.notes??"",m}formatDate(a){const m=new Date(a);if(isNaN(m.getTime()))return"Invalid Date";const E=m.getDate().toString().padStart(2,"0"),O=(m.getMonth()+1).toString().padStart(2,"0");return`${m.getFullYear()}-${O}-${E}`}static#t=this.\u0275fac=function(m){return new(m||v)(e.Y36(u.WI),e.Y36(u.so))};static#e=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-exp-rev-popup"]],decls:12,vars:18,consts:[[3,"config","btnClicked"],[1,"cd-max"],[1,"my-2"],["class","h-100 w-100 d-flex align-items-center justify-content-end pe-3",4,"ngIf"],[3,"config","control"],[3,"disableTypingDate","config","control"],[1,"h-100","w-100","d-flex","align-items-center","justify-content-end","pe-3"],[1,"cursor-pointer",3,"matTooltip","matTooltipPosition","config","click"],["tooltip","matTooltip"]],template:function(m,E){1&m&&(e.TgZ(0,"shared-confirm-body",0),e.NdJ("btnClicked",function(x){return E.handleDialogActions(x)}),e.TgZ(1,"div",1)(2,"form",2),e.YNc(3,c,3,4,"div",3),e.TgZ(4,"div",2),e._UZ(5,"shared-input",4),e.qZA(),e.TgZ(6,"div",2),e._UZ(7,"shared-input",5),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"shared-input",4),e.qZA(),e.TgZ(10,"div",2),e._UZ(11,"shared-input",4),e.qZA()()()()),2&m&&(e.Q6J("config",e.VKq(11,M,E.data.data?"Edit "+E.data.title:"Add "+E.data.title)),e.xp6(3),e.Q6J("ngIf",E.data.data),e.xp6(2),e.Q6J("config",e.VKq(13,h,E.data.title))("control",E.form.controls.title),e.xp6(2),e.Q6J("disableTypingDate",!0)("config",e.DdM(15,C))("control",E.form.controls.date),e.xp6(2),e.Q6J("config",e.DdM(16,g))("control",E.form.controls.price),e.xp6(2),e.Q6J("config",e.DdM(17,P))("control",E.form.controls.notes))},dependencies:[r.O5,o._Y,o.JL,o.F,_.o,i.a,s.gM,p.F],styles:[".cd-max[_ngcontent-%COMP%]{max-height:calc(95vh - 170px);overflow-y:scroll}"]})}return v})()},8018:(D,f,n)=>{n.d(f,{m:()=>r});var o=n(5879),u=n(5937),t=n(2025);const d=function(){return{icon:"edit",ripple:!0}},e=function(){return{icon:"delete",ripple:!0}};let r=(()=>{class _{constructor(s){this._financeService=s,this.innerWidth=window.innerWidth}agInit(s){this.cellValue=this.getValueToDisplay(s)}refresh(s){return this.cellValue=this.getValueToDisplay(s),!0}onView(){this._financeService.expChanges$.next({exp:this.rowValue,state:"edit"})}onDelete(){this._financeService.expChanges$.next({exp:this.rowValue,state:"delete"})}getValueToDisplay(s){return this.rowValue=s.data,s.valueFormatted?s.valueFormatted:s.value}static#t=this.\u0275fac=function(p){return new(p||_)(o.Y36(u.w))};static#e=this.\u0275cmp=o.Xpm({type:_,selectors:[["expense-value-component"]],decls:3,vars:4,consts:[[1,"h-100","w-100","d-flex","align-items-center","justify-content-center"],[1,"cursor-pointer",3,"config","click"],[1,"cursor-pointer","ms-2",3,"config","click"]],template:function(p,l){1&p&&(o.TgZ(0,"div",0)(1,"shared-icon",1),o.NdJ("click",function(){return l.onView()}),o.qZA(),o.TgZ(2,"shared-icon",2),o.NdJ("click",function(){return l.onDelete()}),o.qZA()()),2&p&&(o.xp6(1),o.Q6J("config",o.DdM(2,d)),o.xp6(1),o.Q6J("config",o.DdM(3,e)))},dependencies:[t.o]})}return _})()},8404:(D,f,n)=>{n.d(f,{C:()=>o});class o{static UpdateArrayBehaviorSubject(t,d,e){const r=t.value.slice();if("add"===e)r.push(d);else if("edit"===e){const _=r.findIndex(i=>i._id===d._id);-1!==_&&(r[_]=d)}else if("delete"===e){const _=r.findIndex(i=>i._id===d._id);-1!==_&&r.splice(_,1)}t.next(r)}}},3493:(D,f,n)=>{n.d(f,{b:()=>e});var o=n(5879),u=n(6814),t=n(5986);function d(r,_){if(1&r){const i=o.EpF();o.TgZ(0,"span",1)(1,"mat-checkbox",2),o.NdJ("change",function(){o.CHM(i);const p=o.oxw();return o.KtG(p.changeValue())}),o._uU(2),o.qZA()()}if(2&r){const i=o.oxw();o.xp6(1),o.Q6J("color",i.config.color?i.config.color:"primary")("checked",i.control.value)("disabled",i.config.disabled),o.xp6(1),o.hij(" ",i.config.label," ")}}let e=(()=>{class r{changeValue(){this.control.setValue(!this.control.value)}static#t=this.\u0275fac=function(s){return new(s||r)};static#e=this.\u0275cmp=o.Xpm({type:r,selectors:[["shared-checkbox"]],inputs:{control:"control",config:"config"},decls:1,vars:1,consts:[["class","shared-checkbox",4,"ngIf"],[1,"shared-checkbox"],[3,"color","checked","disabled","change"]],template:function(s,p){1&s&&o.YNc(0,d,3,4,"span",0),2&s&&o.Q6J("ngIf",p.control)},dependencies:[u.O5,t.oG],styles:[".shared-checkbox[_ngcontent-%COMP%]{margin:12px 0}[_nghost-%COMP%]     .mdc-checkbox__checkmark-path{color:var(--inside-primary-color)!important}"]})}return r})()},345:(D,f,n)=>{n.d(f,{O:()=>i});var o=n(9773),u=n(2041),t=n(5879),d=n(4497),e=n(6814),r=n(5940);function _(s,p){if(1&s&&(t.TgZ(0,"div",1),t._UZ(1,"mat-progress-spinner",2),t.qZA()),2&s){const l=t.oxw();t.xp6(1),t.Q6J("color",l.color)("mode",l.mode)}}let i=(()=>{class s extends u.f{constructor(l,c){super(),this._loaderService=l,this._cd=c,this.mode="indeterminate",this.color="primary",this.loading=!1}ngOnInit(){this._loaderService.loader$.pipe((0,o.R)(this.__unsubscribe$)).subscribe(l=>{const c=this.loading;this.loading=l,l!==c&&this._cd.detectChanges()})}static#t=this.\u0275fac=function(c){return new(c||s)(t.Y36(d.D),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["shared-spinner"]],inputs:{mode:"mode",color:"color"},features:[t.qOj],decls:1,vars:1,consts:[["class","spinner-container",4,"ngIf"],[1,"spinner-container"],[3,"color","mode"]],template:function(c,M){1&c&&t.YNc(0,_,2,2,"div",0),2&c&&t.Q6J("ngIf",M.loading)},dependencies:[e.O5,r.Ou],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;inset:0;z-index:15000;background-color:var(--spinner-background)}"]})}return s})()},7858:(D,f,n)=>{n.d(f,{j:()=>d});var o=n(6814),u=n(9255),t=n(5879);let d=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[o.ez,u.B]})}return e})()},8532:(D,f,n)=>{n.d(f,{P:()=>l});var o=n(7700),u=n(7430),t=n(5879),d=n(6814),e=n(2025),r=n(5995);function _(c,M){if(1&c&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&c){const h=t.oxw();t.xp6(1),t.hij(" ",h.data.bodyMessage," ")}}function i(c,M){if(1&c){const h=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"shared-button",10),t.NdJ("btnClicked",function(){t.CHM(h);const g=t.oxw();return t.KtG(g.yesClicked())}),t.qZA()(),t.TgZ(3,"div",9)(4,"shared-button",10),t.NdJ("btnClicked",function(){t.CHM(h);const g=t.oxw();return t.KtG(g.noClicked())}),t.qZA()()()}if(2&c){const h=t.oxw();t.xp6(2),t.Q6J("config",h.yesButtonConfig),t.xp6(2),t.Q6J("config",h.noButtonConfig)}}function s(c,M){if(1&c){const h=t.EpF();t.TgZ(0,"div",11)(1,"shared-button",10),t.NdJ("btnClicked",function(){t.CHM(h);const g=t.oxw();return t.KtG(g.okClicked())}),t.qZA()()}if(2&c){const h=t.oxw();t.xp6(1),t.Q6J("config",h.okButtonConfig)}}const p=function(){return{icon:"close",color:"var(--text-color)"}};let l=(()=>{class c{constructor(h,C){this.dialogRef=h,this.data=C,this.appName=(0,u.Cd)("constants",!0)?.appName?(0,u.Cd)("constants",!0)?.appName:"P.O.S",this.okButtonConfig={label:"OK",type:"button",color:"primary",matAttribute:"mat-raised-button"},this.yesButtonConfig={label:"Yes",color:"primary",matAttribute:"mat-raised-button",takeFullWidth:!0},this.noButtonConfig={label:"No",color:"primary",matAttribute:"mat-raised-button",takeFullWidth:!0}}yesClicked(){this.dialogRef.close("yes")}noClicked(){this.dialogRef.close("no")}okClicked(){this.dialogRef.close("ok")}closeClicked(){this.dialogRef.close()}static#t=this.\u0275fac=function(C){return new(C||c)(t.Y36(o.so),t.Y36(o.WI))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["ng-component"]],decls:11,vars:6,consts:[[2,"border-radius","7px 7px 0 0"],[1,"cs-pop-title","d-flex","justify-content-between","py-2","px-4","text-light","align-items-center"],[2,"cursor","pointer",3,"config","click"],[2,"display","flex","border-top","1px solid gainsboro","margin","0px"],[1,"text-center","py-2","px-2",2,"min-height","70px"],[4,"ngIf"],["class","py-2 align-items-center justify-content-center d-flex",4,"ngIf"],["class","py-2 text-center",4,"ngIf"],[1,"py-2","align-items-center","justify-content-center","d-flex"],[1,"mx-1",2,"width","120px"],[3,"config","btnClicked"],[1,"py-2","text-center"]],template:function(C,g){1&C&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"shared-icon",2),t.NdJ("click",function(){return g.closeClicked()}),t.qZA()(),t._UZ(5,"div",3),t.TgZ(6,"div",4),t.YNc(7,_,2,1,"div",5),t.qZA(),t._UZ(8,"div",3),t.YNc(9,i,5,2,"div",6),t.YNc(10,s,2,1,"div",7),t.qZA()),2&C&&(t.xp6(3),t.Oqu(g.data.title?g.data.title:g.appName),t.xp6(1),t.Q6J("config",t.DdM(5,p)),t.xp6(3),t.Q6J("ngIf",g.data.bodyMessage),t.xp6(2),t.Q6J("ngIf",1==g.data.showYesNo),t.xp6(1),t.Q6J("ngIf",1==g.data.showOk))},dependencies:[d.O5,e.o,r.r],styles:[".cs-pop-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.cs-pop-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-color)}"]})}return c})()},6363:(D,f,n)=>{n.d(f,{P:()=>_});var o=n(6814),u=n(9255),t=n(7700),d=n(7858),e=n(6223),r=n(5879);let _=(()=>{class i{static#t=this.\u0275fac=function(l){return new(l||i)};static#e=this.\u0275mod=r.oAB({type:i});static#n=this.\u0275inj=r.cJS({imports:[o.ez,u.B,t.Is,d.j,e.UX]})}return i})()}}]);