"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[944],{6775:(k,C,r)=>{r.d(C,{H:()=>Z});var s=r(8645),b=r(9773),A=r(8180),x=r(3868),_=r(5879),l=r(1961);let Z=(()=>{class h{ngOnDestroy(){this.__unsubscribe$.next(),this.__unsubscribe$.complete()}constructor(g){this.__NavService=g,this.__unsubscribe$=new s.x,this.NavButtons$=this.__NavService.buttonClicked$,this.NAV_NAMES=x.B,this.$theme="light",this._theme=this.__NavService.theme$.pipe((0,b.R)(this.__unsubscribe$)).subscribe(a=>{this.$theme=a})}Navbar_Clear(){this.__NavService.updateNav({show:!1,back:!1,title:"",buttons:[]})}Navbar_Update(g){this.__NavService.navSettings$.pipe((0,A.q)(1)).subscribe(a=>{this.__NavService.updateNav({show:g.show,back:void 0!==g.back?g.back:a.back,title:void 0!==g.title?g.title:a.title,buttons:void 0!==g.buttons?g.buttons:a.buttons})})}ToggleTheme(){this.__NavService.toggleTheme()}static#t=this.\u0275fac=function(a){return new(a||h)(_.LFG(l.t))};static#e=this.\u0275prov=_.Yz7({token:h,factory:h.\u0275fac})}return h})()},3868:(k,C,r)=>{r.d(C,{B:()=>s});const s={HOME:{name:"Reservations"},USER_MANAGEMENT:{name:"User Management",children:{users:{name:"Users"},LOGS:{name:"Logs"}}},FINANCE:{name:"FINANCE",children:{REVENUE:{name:"Revenues"},EXPENSE:{name:"Expenses"},REPORT:{name:"Report"}}},CUSTOMERS_MANAGEMENT:{name:"Customers",children:{WHOLESALE:{name:"Customers"}}}}},9944:(k,C,r)=>{r.r(C),r.d(C,{HomeModule:()=>Bt});var s=r(6814),b=r(3403),A=r(6775),x=r(5619),_=r(9773),l=r(8180),Z=r(3868),h=r(9017),y=r(5994),g=r(6911),a=r(6223),D=r(7700),$=r(8532),I=r(7022),F=r(5693),t=r(5879),N=r(3985),d=r(8404),T=r(8068),u=r(1006);let v=(()=>{class o{constructor(e,n){this._networkService=e,this._snackbar=n,this._reservations$=new x.X(m),this._names$=new x.X([]),this.reservations$=this._reservations$.asObservable(),this.names$=this._names$.asObservable()}getAllReservation(){this._networkService.get(N.b.RESERVATIONS).pipe((0,l.q)(1)).subscribe({next:e=>{this._reservations$.next(e.reservations),this._names$.next(P(e.reservations))},error:e=>{this._snackbar.error(e.error?.message)}})}addNewReservation(e){this._networkService.post(N.b.RESERVATIONS,e).pipe((0,l.q)(1)).subscribe({next:n=>{d.C.UpdateArrayBehaviorSubject(this._reservations$,n,"add"),this._reservations$.pipe((0,l.q)(1)).subscribe(i=>{this._names$.next(P(i))})},error:n=>{this._snackbar.error(n.error?.message)}})}editReservation(e){this._networkService.patch(N.b.RESERVATIONS,e,e._id).pipe((0,l.q)(1)).subscribe({next:n=>{d.C.UpdateArrayBehaviorSubject(this._reservations$,n,"edit"),this._reservations$.pipe((0,l.q)(1)).subscribe(i=>{this._names$.next(P(i))})},error:n=>{this._snackbar.error(n.error?.message)}})}deleteReservation(e){this._networkService.delete(N.b.RESERVATIONS,e).pipe((0,l.q)(1)).subscribe({next:()=>{d.C.UpdateArrayBehaviorSubject(this._reservations$,{_id:e,bookedDate:"",notes:"",number:1,person:{contact:"",name:""}},"delete"),this._reservations$.pipe((0,l.q)(1)).subscribe(n=>{this._names$.next(P(n))})},error:n=>{this._snackbar.error(n.error?.message)}})}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(T.S),t.LFG(u.o))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const m=[];function P(o){let c=[];return o.forEach(e=>{c.includes(e.person.name.toLowerCase())||c.push(e.person.name.toLowerCase()),c.sort()}),c}var B=r(2025),Q=r(5995),j=r(3493),Y=r(4246),R=r(9157),L=r(2032),W=r(3680),U=r(4630),H=r(2022),K=r(1656);const G=["input"];function z(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"shared-icon",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onIconClick("prefix"))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("config",e.config.prefixIcon)}}function q(o,c){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.Udp("border-bottom","1px solid var(--divider-color)"),t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function V(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"shared-icon",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onIconClick("suffix"))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("config",e.config.suffixIcon)}}function X(o,c){if(1&o&&(t.TgZ(0,"mat-error"),t._UZ(1,"shared-field-validation",12),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("control",e.control)}}let tt=(()=>{class o{constructor(){this.control=new a.NI,this.enableStrict=!1,this.filteredOptions=[],this.iconClickEvent=new t.vpe}ngOnInit(){void 0!==this.config.emptyOption&&this.config.options.unshift({name:this.config.emptyOption,value:void 0}),this.filteredOptions=this.config.options.slice()}onIconClick(e){this.iconClickEvent.emit({type:e})}blur(){const e=this.control.value,n=this.input?.nativeElement;n&&(this.control.setValue(e),n.value=e)}filter(){const e=this.input?.nativeElement?.value?.toLowerCase().trim()??"";this.filteredOptions=this.config.options.filter(n=>n.name.toLowerCase().includes(e))}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["shared-autocomplete"]],viewQuery:function(n,i){if(1&n&&t.Gf(G,5),2&n){let p;t.iGM(p=t.CRH())&&(i.input=p.first)}},inputs:{config:"config",control:"control",enableStrict:"enableStrict"},outputs:{iconClickEvent:"iconClickEvent"},decls:12,vars:14,consts:[[1,"shared-select",3,"appearance","color"],["matPrefix","","class","d-flex align-items-center mx-2 cursor-pointer",3,"config","click",4,"ngIf"],["type","text","placeholder","Start Typing ...","matInput","","TextTrimmer","",3,"formControl","matAutocomplete","blur","input","focus"],["input",""],[3,"requireSelection"],["auto","matAutocomplete"],[3,"border-bottom","value",4,"ngFor","ngForOf"],["matSuffix","","class","d-flex align-items-center mx-2 cursor-pointer",3,"config","click",4,"ngIf"],[4,"ngFor","ngForOf"],["matPrefix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"config","click"],[3,"value"],["matSuffix","",1,"d-flex","align-items-center","mx-2","cursor-pointer",3,"config","click"],[3,"control"]],template:function(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",0),t.YNc(1,z,1,1,"shared-icon",1),t.TgZ(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",2,3),t.NdJ("blur",function(){return i.blur()})("input",function(){return i.filter()})("focus",function(){return i.filter()}),t.qZA(),t.TgZ(6,"mat-autocomplete",4,5),t.YNc(8,q,2,4,"mat-option",6),t.qZA(),t.YNc(9,V,1,1,"shared-icon",7),t.YNc(10,X,2,1,"mat-error",8),t.ALo(11,"keyvalue"),t.qZA()),2&n){const p=t.MAs(7);t.ekj("hide-extra",i.config.hideExtra),t.Q6J("appearance",i.config.appearance?i.config.appearance:"outline")("color",i.config.color?i.config.color:"primary"),t.xp6(1),t.Q6J("ngIf",i.config.prefixIcon),t.xp6(2),t.Oqu(i.config.label),t.xp6(1),t.Q6J("formControl",i.control)("matAutocomplete",p),t.xp6(2),t.Q6J("requireSelection",i.enableStrict),t.xp6(2),t.Q6J("ngForOf",i.filteredOptions),t.xp6(1),t.Q6J("ngIf",i.config.suffixIcon),t.xp6(1),t.Q6J("ngForOf",t.lcZ(11,12,i.control.errors))}},dependencies:[s.sg,s.O5,a.Fj,a.JJ,a.oH,R.KE,R.hX,R.TO,R.qo,R.R9,L.Nt,W.ey,U.XC,U.ZL,H.$,B.o,K.n,s.Nd],styles:[".shared-select[_ngcontent-%COMP%]{width:100%}.hide-extra[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}"]})}return o})();var et=r(2596),nt=r(9866);const ot=function(){return{icon:"info",ripple:!0}};function it(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"shared-icon",12,13),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(2);return t.KtG(i.toggle())}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("matTooltip",e.getTooltipContent())("matTooltipPosition","left")("config",t.DdM(3,ot))}}const st=function(o){return{label:"Name",options:o}};function rt(o,c){if(1&o&&t._UZ(0,"shared-autocomplete",14),2&o){const e=t.oxw();t.Q6J("config",t.VKq(2,st,e.names))("control",e.form.controls.person.controls.name)}}const at=function(){return{label:"Name"}};function ct(o,c){if(1&o&&t._UZ(0,"shared-input",6),2&o){const e=t.oxw();t.Q6J("config",t.DdM(3,at))("control",e.form.controls.person.controls.name)("readonly",!0)}}const dt=function(){return{label:"Notes"}};function lt(o,c){if(1&o&&t._UZ(0,"shared-input",14),2&o){const e=t.oxw();t.Q6J("config",t.DdM(2,dt))("control",e.form.controls.notes)}}const pt=function(){return{label:"Deposit"}};function ut(o,c){if(1&o&&t._UZ(0,"shared-checkbox",14),2&o){const e=t.oxw();t.Q6J("config",t.DdM(2,pt))("control",e.form.controls.deposit)}}function mt(o,c){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.form.controls.deposit.value?"Deposit":"No Deposit"," ")}}const ft=function(){return{label:"Payed"}};function ht(o,c){if(1&o&&t._UZ(0,"shared-checkbox",14),2&o){const e=t.oxw();t.Q6J("config",t.DdM(2,ft))("control",e.form.controls.done)}}function gt(o,c){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.form.controls.done.value?"Payed":"No Payed"," ")}}const vt=function(){return{icon:"delete",color:"var(--inside-primary-color)"}},_t=function(o){return{label:"Delete",color:"warn",matAttribute:"mat-raised-button",prefixIcon:o}};function Ct(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"shared-button",0),t.NdJ("btnClicked",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteReservation())}),t.qZA()}2&o&&t.Q6J("config",t.VKq(2,_t,t.DdM(1,vt)))}const xt=function(o,c,e,n){return{title:o,showSave:c,showCancel:e,showOk:n}},bt=function(){return{label:"Contact"}},yt=function(){return{label:"Date"}},Tt=function(){return{label:"Amount in $",type:"number"}};let At=(()=>{class o{constructor(e,n,i,p){this.data=e,this._dialog=n,this._dialogRef=i,this._reservationService=p,this.isAdmin=(0,h.q)(y.l.admin),this.isEditor=(0,h.q)(y.l.editor),this.form=new a.cw({bookedDate:new a.NI("",[a.kI.required]),person:new a.cw({name:new a.NI("",[a.kI.required,a.kI.minLength(5),a.kI.maxLength(25)]),contact:new a.NI("",[a.kI.required,a.kI.minLength(5),a.kI.maxLength(25)])}),notes:new a.NI(""),price:new a.NI("",[a.kI.required]),done:new a.NI(!1),deposit:new a.NI(!1)}),this.names=[]}ngOnInit(){this.data&&this.data.data?(this.editForm(this.data.data),this.loadedData=structuredClone(this.data.data)):this.form.patchValue({bookedDate:this.formatDate(new Date(this.data.date))}),this._reservationService.names$.subscribe(e=>this.names=e.map(n=>({name:n,value:n})))}handleDialogActions(e){e&&"ok"!==e&&"cancel"!==e?"save"===e&&this.submit():this._dialogRef.close()}getTooltipContent(){if(this.data&&this.data.data){let e="";return e=this.data.data.createdAt!==this.data.data.updatedAt?`Created by ${this.data.data.createdBy} at ${(0,I.TG)(this.data.data.createdAt)}\nUpdated by ${this.data.data.updatedBy} at ${(0,I.TG)(this.data.data.updatedAt)}`:`Created by ${this.data.data.createdBy} at ${(0,I.TG)(this.data.data.createdAt)}`,e}return""}deleteReservation(){this.loadedData&&this.loadedData._id&&this._dialog.open($.P,{width:"95vw",maxWidth:"500px",disableClose:!0,restoreFocus:!1,autoFocus:!1,data:{title:"Confirm Delete",bodyMessage:"Are you sure you want to delete reservation?",showYesNo:!0,showOk:!1}}).afterClosed().pipe((0,l.q)(1)).subscribe(e=>{e&&"yes"===e&&(this._reservationService.deleteReservation(this.loadedData._id),this._dialogRef.close())})}editForm(e){this.form.patchValue({bookedDate:this.formatDate(new Date(e.bookedDate)),person:{contact:e.person.contact,name:e.person.name},notes:e.notes,price:e.price?.toString(),done:e.done,deposit:e.deposit})}submit(){if((0,F.s)(this.form)){const e=this.format(this.form.value);this._dialogRef.close(e)}}format(e){const n=this.loadedData?{...this.loadedData}:{};return n.bookedDate=this.formatDate(this.data.date),n.number=this.data.bungalow,n.notes=this.form.value.notes,n.person={contact:this.form.value.person?.contact,name:this.form.value.person?.name},n.price=parseFloat(this.form.value.price),n.done=this.form.value.done,n.deposit=this.form.value.deposit,n}formatDate(e){const n=new Date(e);if(isNaN(n.getTime()))return"Invalid Date";const i=n.getDate().toString().padStart(2,"0"),p=(n.getMonth()+1).toString().padStart(2,"0");return`${n.getFullYear()}-${p}-${i}`}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(D.WI),t.Y36(D.uw),t.Y36(D.so),t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-reservation-popup"]],decls:23,vars:28,consts:[[3,"config","btnClicked"],[1,"cd-max"],[1,"my-2"],["class","h-100 w-100 d-flex align-items-center justify-content-end pe-3",4,"ngIf"],[3,"config","control",4,"ngIf"],[3,"config","control","readonly",4,"ngIf"],[3,"config","control","readonly"],[3,"disableTypingDate","config","control","readonly"],["class","text-center",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],[3,"config","btnClicked",4,"ngIf"],[1,"h-100","w-100","d-flex","align-items-center","justify-content-end","pe-3"],[1,"cursor-pointer",3,"matTooltip","matTooltipPosition","config","click"],["tooltip","matTooltip"],[3,"config","control"],[1,"text-center"]],template:function(n,i){1&n&&(t.TgZ(0,"shared-confirm-body",0),t.NdJ("btnClicked",function(f){return i.handleDialogActions(f)}),t.TgZ(1,"div",1)(2,"form",2),t.YNc(3,it,3,4,"div",3),t.TgZ(4,"div",2),t.YNc(5,rt,1,4,"shared-autocomplete",4),t.YNc(6,ct,1,4,"shared-input",5),t.qZA(),t.TgZ(7,"div",2),t._UZ(8,"shared-input",6),t.qZA(),t.TgZ(9,"div",2),t._UZ(10,"shared-input",7),t.qZA(),t.TgZ(11,"div",2),t._UZ(12,"shared-input",6),t.qZA(),t.TgZ(13,"div",2),t.YNc(14,lt,1,3,"shared-input",4),t.qZA(),t.TgZ(15,"div"),t.YNc(16,ut,1,3,"shared-checkbox",4),t.YNc(17,mt,2,1,"div",8),t.qZA(),t.TgZ(18,"div",2),t.YNc(19,ht,1,3,"shared-checkbox",4),t.YNc(20,gt,2,1,"div",8),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,Ct,1,4,"shared-button",10),t.qZA()()()()),2&n&&(t.Q6J("config",t.l5B(20,xt,i.isEditor||i.isAdmin?i.data.data?"Edit Reservation":"Add Reservation":"Reservation",i.isAdmin||i.isEditor,i.isAdmin||i.isEditor,!(i.isAdmin||i.isEditor))),t.xp6(3),t.Q6J("ngIf",i.data.data&&(i.isEditor||i.isAdmin)),t.xp6(2),t.Q6J("ngIf",i.isEditor||i.isAdmin),t.xp6(1),t.Q6J("ngIf",!(i.isEditor||i.isAdmin)),t.xp6(2),t.Q6J("config",t.DdM(25,bt))("control",i.form.controls.person.controls.contact)("readonly",!(i.isEditor||i.isAdmin)),t.xp6(2),t.Q6J("disableTypingDate",!0)("config",t.DdM(26,yt))("control",i.form.controls.bookedDate)("readonly",!0),t.xp6(2),t.Q6J("config",t.DdM(27,Tt))("control",i.form.controls.price)("readonly",!(i.isEditor||i.isAdmin)),t.xp6(2),t.Q6J("ngIf",i.isEditor||i.isAdmin),t.xp6(2),t.Q6J("ngIf",i.isEditor||i.isAdmin),t.xp6(1),t.Q6J("ngIf",!(i.isEditor||i.isAdmin)),t.xp6(2),t.Q6J("ngIf",i.isEditor||i.isAdmin),t.xp6(1),t.Q6J("ngIf",!(i.isEditor||i.isAdmin)),t.xp6(2),t.Q6J("ngIf",(i.isEditor||i.isAdmin)&&i.data.data))},dependencies:[s.O5,a._Y,a.JL,a.F,B.o,Q.r,j.b,Y.a,tt,et.gM,nt.F],styles:[".cd-max[_ngcontent-%COMP%]{max-height:calc(95vh - 170px);overflow-y:scroll}"]})}return o})();var wt=r(1961),Et=r(5850),Mt=r(2041);function Ot(o,c){if(1&o&&(t.TgZ(0,"div",5)(1,"span",6),t._uU(2),t.qZA()()),2&o){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function Dt(o,c){if(1&o&&(t.TgZ(0,"span",10),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.Tol(n.getClass(e)),t.ekj("editor",n.isAdmin||n.isEditor),t.xp6(1),t.Oqu(e)}}function Nt(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){const p=t.CHM(e).$implicit,f=t.oxw(2);return t.KtG(f.selectDate(p))}),t.YNc(1,Dt,2,5,"span",9),t.qZA()}if(2&o){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",e)}}function kt(o,c){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,Nt,2,1,"div",7),t.qZA()),2&o){const e=c.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}let Zt=(()=>{class o extends Mt.f{constructor(e){super(),this._reservationService=e,this.isAdmin=(0,h.q)(y.l.admin),this.isEditor=(0,h.q)(y.l.editor),this.currentMonth=new Date,this.weekDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.weeks=[],this.dateOutput=new t.vpe,this.reservations=[]}ngOnInit(){this._reservationService.reservations$.pipe((0,_.R)(this.__unsubscribe$)).subscribe(e=>this.reservations=e),this.date$.pipe((0,_.R)(this.__unsubscribe$)).subscribe(e=>{this.currentMonth=e,this.generateCalendar()})}selectDate(e){if(0===e)return;const n=this.currentMonth.getMonth(),i=this.currentMonth.getFullYear(),f={date:new Date(i,n,e),bungalow:this.bungalow,reservation:this.reservations.find(w=>{const E=Number(w.bookedDate.split("-")[2]),O=Number(w.bookedDate.split("-")[1]),M=Number(w.bookedDate.split("-")[0]);return w.number===this.bungalow&&E===e&&n+1===O&&i===M})};this.dateOutput.emit(f)}getClass(e){let n="click d-flex align-items-center justify-content-center ";const i=this.currentMonth.getMonth(),p=this.currentMonth.getFullYear(),f=this.reservations.find(w=>{const E=new Date(w.bookedDate),O=E.getDate(),M=E.getMonth(),S=E.getFullYear();return w.number===this.bungalow&&O===e&&i===M&&p===S});return f&&(n+=" bg-success ",f.deposit&&(n+=" bg-danger "),f.done&&(n=n.replace("bg-success",""),n=n.replace("bg-danger",""),n+=" bg-primary ")),n}generateCalendar(){const e=this.currentMonth.getFullYear(),n=this.currentMonth.getMonth(),i=new Date(e,n,1),f=new Date(e,n+1,0).getDate(),w=i.getDay();this.weeks=[];let E=1;for(let O=0;O<6;O++){const M=[];for(let S=0;S<7;S++)0===O&&S<w||E>f?M.push(0):(M.push(E),E++);this.weeks.push(M)}}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["reservations-calendar"]],inputs:{date$:"date$",bungalow:"bungalow"},outputs:{dateOutput:"dateOutput"},features:[t.qOj],decls:8,vars:3,consts:[[1,"d-flex","align-items-center","justify-content-center","mb-3","name"],[1,"shared-calendar","mx-auto"],[1,"d7"],["class","d-flex align-items-center justify-content-center w-100 pb-3",4,"ngFor","ngForOf"],["class","d7",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","w-100","pb-3"],[1,"day","d-flex","align-items-center","justify-content-center"],["class","d-flex align-items-center justify-content-center w-100 pb-2",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","w-100","pb-2",3,"click"],["class","click d-flex align-items-center justify-content-center",3,"class","editor",4,"ngIf"],[1,"click","d-flex","align-items-center","justify-content-center"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"div")(4,"div",2),t.YNc(5,Ot,3,1,"div",3),t.qZA(),t.TgZ(6,"div"),t.YNc(7,kt,2,1,"div",4),t.qZA()()()),2&n&&(t.xp6(1),t.hij(" Bungalow ",i.bungalow,"\n"),t.xp6(4),t.Q6J("ngForOf",i.weekDays),t.xp6(2),t.Q6J("ngForOf",i.weeks))},dependencies:[s.sg,s.O5],styles:[".shared-calendar[_ngcontent-%COMP%]{max-width:700px}.name[_ngcontent-%COMP%]{font-size:16px;font-weight:500;text-align:center}.d7[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr 1fr}.day[_ngcontent-%COMP%]{font-weight:bolder;font-size:15px;color:var(--primary-color)}.click[_ngcontent-%COMP%]{border-radius:40%;width:40px;height:40px;background-color:#52545b;color:#fff;font-weight:700;cursor:pointer}.editor[_ngcontent-%COMP%]:hover{background-color:#7e7e99}.editor[_ngcontent-%COMP%]:active{background-color:var(--primary-color)}@media screen and (max-width: 400px){.click[_ngcontent-%COMP%]{width:30px;height:30px}}"]})}return o})();const It=function(o){return{date:o,format:"MMMM yyyy"}};var J=function(o){return o.new="Create New",o.search="Change Date",o.downloadExcel="Download Excel",o}(J||{});const Pt=[{path:"",component:(()=>{class o extends A.H{constructor(e,n,i){super(i),this._dialog=e,this._reservationService=n,this._navService=i,this.date=new Date,this.date$=new x.X(this.date),this.innerWidth=window.innerWidth,this.isAdmin=(0,h.q)(y.l.admin),this.isEditor=(0,h.q)(y.l.editor)}ngOnInit(){this.Navbar_Update({show:!0,title:Z.B.HOME.name,buttons:[{label:J.search,prefixIcon:{icon:"calendar_today"}}]}),this.NavButtons$.pipe((0,_.R)(this.__unsubscribe$)).subscribe(n=>{n===J.new||n===J.search&&this.openSearch()}),this._reservationService.getAllReservation()}previousDay(){const e=new Date(this.date);e.setMonth(this.date.getMonth()-1),e.setDate(15),this.date=e,this.date$.next(this.date)}nextDay(){const e=new Date(this.date);e.setMonth(this.date.getMonth()+1),e.setDate(15),this.date=e,this.date$.next(this.date)}openSearch(){this._dialog.open(g.T,{width:"95vw",maxWidth:"400px",disableClose:!0,restoreFocus:!1,autoFocus:!0}).afterClosed().pipe((0,l.q)(1)).subscribe(e=>{e&&e.date&&(this.date=e.date,this.date$.next(this.date))})}openReservation(e){(!this.isAdmin||!this.isEditor)&&!e.reservation||this._dialog.open(At,{width:"95vw",maxWidth:"400px",maxHeight:"95vh",disableClose:!0,autoFocus:!e,restoreFocus:!1,data:{date:e.date,bungalow:e.bungalow,data:e.reservation}}).afterClosed().pipe((0,l.q)(1)).subscribe(n=>{n&&e.reservation&&this._reservationService.editReservation(n),n&&!e.reservation&&this._reservationService.addNewReservation(n)})}onWindowResize(e){this.innerWidth=window.innerWidth}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(D.uw),t.Y36(v),t.Y36(wt.t))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],hostBindings:function(n,i){1&n&&t.NdJ("resize",function(){return i.onWindowResize()},!1,t.Jf7)},features:[t.qOj],decls:14,vars:12,consts:[[1,"container","py-2"],[1,"d-flex","align-items-center"],[1,"text-bg-success","cs-c"],[1,"text-bg-danger","cs-c"],[1,"text-bg-primary","cs-c"],[3,"config","hide","next","previous"],[1,"row"],[1,"col-12","col-lg-6","pe-lg-5"],[3,"date$","bungalow","dateOutput"],[1,"col-12","col-lg-6","mt-4","mt-lg-0","ps-lg-5"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Reserved"),t.qZA(),t.TgZ(4,"div",3),t._uU(5,"Deposit"),t.qZA(),t.TgZ(6,"div",4),t._uU(7,"Payed"),t.qZA()(),t.TgZ(8,"shared-changer",5),t.NdJ("next",function(){return i.nextDay()})("previous",function(){return i.previousDay()}),t.qZA(),t.TgZ(9,"div",6)(10,"div",7)(11,"reservations-calendar",8),t.NdJ("dateOutput",function(f){return i.openReservation(f)}),t.qZA()(),t.TgZ(12,"div",9)(13,"reservations-calendar",8),t.NdJ("dateOutput",function(f){return i.openReservation(f)}),t.qZA()()()()),2&n&&(t.xp6(1),t.ekj("justify-content-end",i.innerWidth>700)("justify-content-center",i.innerWidth<=700),t.xp6(7),t.Q6J("config",t.VKq(10,It,i.date))("hide",!0),t.xp6(3),t.Q6J("date$",i.date$)("bungalow",1),t.xp6(2),t.Q6J("date$",i.date$)("bungalow",2))},dependencies:[Et.d,Zt],styles:[".cs-card[_ngcontent-%COMP%]{width:120px;height:100px;margin-bottom:20px;font-size:20px;font-weight:700;cursor:pointer;position:relative}.cs-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.cs-c[_ngcontent-%COMP%]{width:80px;display:flex;align-items:center;justify-content:center;padding:4px;margin-left:4px;border-radius:4px}.cs-cont[_ngcontent-%COMP%]{max-width:1300px;margin:0 auto}.active[_ngcontent-%COMP%]{background-color:var(--primary-color)}.notes[_ngcontent-%COMP%]{position:absolute;flex-wrap:wrap;display:flex;justify-content:center;bottom:0;left:0;right:0;font-size:12px;word-wrap:break-word;overflow-wrap:break-word;padding:3px;max-height:45px;width:100%;overflow:hidden}"]})}return o})()}];let Rt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[b.Bz.forChild(Pt),b.Bz]})}return o})();var St=r(9255),Jt=r(7858),$t=r(6363),Ft=r(9781);let Bt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({providers:[v],imports:[s.ez,Rt,St.B,Jt.j,Ft.n,$t.P]})}return o})()},9866:(k,C,r)=>{r.d(C,{F:()=>N});var s=r(5879),b=r(7430),A=r(6814),x=r(5995),_=r(7757);function l(d,T){1&d&&s._UZ(0,"div",1)}function Z(d,T){if(1&d){const u=s.EpF();s.TgZ(0,"div",8)(1,"shared-button",9),s.NdJ("btnClicked",function(){s.CHM(u);const m=s.oxw(2);return s.KtG(m.saveClicked())}),s.qZA()()}if(2&d){const u=s.oxw(2);s.xp6(1),s.Q6J("config",u.yesButtonConfig)}}function h(d,T){if(1&d){const u=s.EpF();s.TgZ(0,"div",8)(1,"shared-button",9),s.NdJ("btnClicked",function(){s.CHM(u);const m=s.oxw(2);return s.KtG(m.cancelClicked())}),s.qZA()()}if(2&d){const u=s.oxw(2);s.xp6(1),s.Q6J("config",u.noButtonConfig)}}function y(d,T){if(1&d&&(s.TgZ(0,"div",6),s.YNc(1,Z,2,1,"div",7),s.YNc(2,h,2,1,"div",7),s.qZA()),2&d){const u=s.oxw();s.xp6(1),s.Q6J("ngIf",u.config.showSave),s.xp6(1),s.Q6J("ngIf",u.config.showCancel)}}function g(d,T){if(1&d){const u=s.EpF();s.TgZ(0,"div",10)(1,"shared-button",9),s.NdJ("btnClicked",function(){s.CHM(u);const m=s.oxw();return s.KtG(m.okClicked())}),s.qZA()()}if(2&d){const u=s.oxw();s.xp6(1),s.Q6J("config",u.okButtonConfig)}}const a=function(){return{"font-size":"20px","font-weight":"900",color:"var(--text-color)"}},D=function(){return{icon:"close",color:"var(--text-color)",ripple:!0}},$=function(d,T,u,v){return{title:d,position:T,extraStyles:u,extraClass:"pb-2 mb-1",suffixIcon:v}},I=function(){return{background:"var(--popup-background-color )","box-shadow":"0px 2px 8px 0px #0000001F"}},F=function(d,T){return{header:d,extraStyles:T}},t=["*"];let N=(()=>{class d{constructor(){this.config={},this.btnClicked=new s.vpe,this.appName=(0,b.Cd)("constants",!0)?.appName?(0,b.Cd)("constants",!0)?.appName:"P.O.S",this.isChecked=!1,this.okButtonConfig={label:"OK",color:"primary",matAttribute:"mat-raised-button"},this.yesButtonConfig={label:"Save",color:"primary",matAttribute:"mat-raised-button",takeFullWidth:!0},this.noButtonConfig={label:"Cancel",color:"primary",matAttribute:"mat-raised-button",takeFullWidth:!0}}saveClicked(){this.btnClicked.emit("save")}cancelClicked(){this.btnClicked.emit("cancel")}okClicked(){this.btnClicked.emit("ok")}exitClicked(){this.btnClicked.emit()}static#t=this.\u0275fac=function(v){return new(v||d)};static#e=this.\u0275cmp=s.Xpm({type:d,selectors:[["shared-confirm-body"]],inputs:{config:"config"},outputs:{btnClicked:"btnClicked"},ngContentSelectors:t,decls:7,vars:15,consts:[[3,"config","clickSuffixIconEvent"],[2,"display","flex","border-top","1px solid var(--divider-color)","margin","0px"],[1,"text-center","py-2","px-2",2,"min-height","70px"],["style","\n      display: flex;\n      border-top: 1px solid var(--divider-color);\n      margin: 0px;\n    ",4,"ngIf"],["class","py-2 align-items-center justify-content-center d-flex",4,"ngIf"],["class","py-2 text-center",4,"ngIf"],[1,"py-2","align-items-center","justify-content-center","d-flex"],["style","width: 120px","class","mx-1",4,"ngIf"],[1,"mx-1",2,"width","120px"],[3,"config","btnClicked"],[1,"py-2","text-center"]],template:function(v,m){1&v&&(s.F$t(),s.TgZ(0,"shared-card",0),s.NdJ("clickSuffixIconEvent",function(){return m.exitClicked()}),s._UZ(1,"div",1),s.TgZ(2,"div",2),s.Hsn(3),s.qZA(),s.YNc(4,l,1,0,"div",3),s.YNc(5,y,3,2,"div",4),s.YNc(6,g,2,1,"div",5),s.qZA()),2&v&&(s.Q6J("config",s.WLB(12,F,s.l5B(6,$,m.config.title?m.config.title:m.appName,m.config.position?m.config.position:"left",s.DdM(4,a),s.DdM(5,D)),s.DdM(11,I))),s.xp6(4),s.Q6J("ngIf",m.config.showSave||m.config.showCancel||m.config.showOk),s.xp6(1),s.Q6J("ngIf",m.config.showSave||m.config.showCancel),s.xp6(1),s.Q6J("ngIf",1==m.config.showOk))},dependencies:[A.O5,x.r,_.A],styles:[".cs-pop-title[_ngcontent-%COMP%]{background-color:var(--primary-color);font-size:20px;font-weight:600}.cs-pop-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-color)}.vertical-scroll[_ngcontent-%COMP%]{overflow-y:auto;height:200px}[_nghost-%COMP%]     .mat-mdc-card{box-shadow:none!important}[_nghost-%COMP%]     .mat-mdc-card-content:last-child{padding-bottom:4px!important}[_nghost-%COMP%]     .mat-mdc-card-content{padding:0!important}"]})}return d})()},9781:(k,C,r)=>{r.d(C,{n:()=>_});var s=r(6814),b=r(7700),A=r(9255),x=r(5879);let _=(()=>{class l{static#t=this.\u0275fac=function(y){return new(y||l)};static#e=this.\u0275mod=x.oAB({type:l});static#n=this.\u0275inj=x.cJS({imports:[s.ez,b.Is,A.B]})}return l})()},9017:(k,C,r)=>{r.d(C,{q:()=>A});var s=r(5994),b=r(7430);function A(x){let l=(0,b.Cd)("roles",!0)||[];return!("object"!=typeof l||!Array.isArray(l)||!l.includes(x)&&!l.includes(s.l.admin))}}}]);